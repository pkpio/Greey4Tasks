function c=msort(a)
l=length(a);
if l==1 then
c=a;
return;
end
t=fix(l/2);
r1=msort(a(1:t));
r2=msort(a(t+1:l));
l1=length(r1);
l2=length(r2);
r1(l1+1)=%inf;
r2(l2+1)=%inf;
i1=1;i2=1;
for i=1:(l1+l2)
if r1(i1)<r2(i2) then
c(i)=r1(i1);i1=i1+1;
else
c(i)=r2(i2);i2=i2+1;
end
end
endfunction